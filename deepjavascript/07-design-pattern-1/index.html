<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">
  
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>속깊은 자바스크립트 - 디자인패턴#1 | 서영원 블로그</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="속깊은 자바스크립트 - 디자인패턴#1" />
<meta name="author" content="서영원" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="디자인패턴#1 - 모듈패턴, 이벤트 델리게이션 패턴 디자인 패턴은 소프트웨어를 개발할 때 사용가능한 패턴 및 설계방식을 정의한 것입니다. 개발자라면 GoF의 디자인 패턴을 따로 공부하는 것을 추천해 드립니다. 여기서는 디자인패턴의 개념에 대해서는 간략하게 설명하고 자바스크립트에서, 즉 웹브라우저에서 해당 디자인패턴이 어떤식으로 사용되고 적용되는가에 초점이 맞추어 살펴봅니다." />
<meta property="og:description" content="디자인패턴#1 - 모듈패턴, 이벤트 델리게이션 패턴 디자인 패턴은 소프트웨어를 개발할 때 사용가능한 패턴 및 설계방식을 정의한 것입니다. 개발자라면 GoF의 디자인 패턴을 따로 공부하는 것을 추천해 드립니다. 여기서는 디자인패턴의 개념에 대해서는 간략하게 설명하고 자바스크립트에서, 즉 웹브라우저에서 해당 디자인패턴이 어떤식으로 사용되고 적용되는가에 초점이 맞추어 살펴봅니다." />
<link rel="canonical" href="https://youngwonseo.github.io/deepjavascript/07-design-pattern-1/" />
<meta property="og:url" content="https://youngwonseo.github.io/deepjavascript/07-design-pattern-1/" />
<meta property="og:site_name" content="서영원 블로그" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-12-27T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="속깊은 자바스크립트 - 디자인패턴#1" />
<script type="application/ld+json">
{"datePublished":"2018-12-27T00:00:00+09:00","url":"https://youngwonseo.github.io/deepjavascript/07-design-pattern-1/","mainEntityOfPage":{"@type":"WebPage","@id":"https://youngwonseo.github.io/deepjavascript/07-design-pattern-1/"},"dateModified":"2018-12-27T00:00:00+09:00","author":{"@type":"Person","name":"서영원"},"description":"디자인패턴#1 - 모듈패턴, 이벤트 델리게이션 패턴 디자인 패턴은 소프트웨어를 개발할 때 사용가능한 패턴 및 설계방식을 정의한 것입니다. 개발자라면 GoF의 디자인 패턴을 따로 공부하는 것을 추천해 드립니다. 여기서는 디자인패턴의 개념에 대해서는 간략하게 설명하고 자바스크립트에서, 즉 웹브라우저에서 해당 디자인패턴이 어떤식으로 사용되고 적용되는가에 초점이 맞추어 살펴봅니다.","@type":"BlogPosting","headline":"속깊은 자바스크립트 - 디자인패턴#1","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
  
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://youngwonseo.github.io/deepjavascript/07-design-pattern-1/">
  <link rel="alternate" type="application/atom+xml" title="서영원 블로그" href="https://youngwonseo.github.io/feed.xml" />  
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/moonspam/NanumBarunGothic@latest/nanumbarungothicsubset.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
</head>

  <body>
    

<div class="header-container" id="header-container">

<!-- Site navigation -->
  <nav class="site-nav">
    <div class="trigger">
      
        
        <a class="page-link" href="/about/">About</a>
        
      
        
        <a class="page-link" href="/archive/">Archive</a>
        
      
        
      
        
      
        
      
        
        <a class="page-link" href="/category/">Paper</a>
        
      
        
        <a class="page-link" href="/projects/">Projects</a>
        
      
        
        <a class="page-link" href="/study/">Study</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      <a class="page-link" href="/feed.xml">RSS</a>
    </div>
  </nav>

  <!-- The title of the site -->
  <header class="site-header">
    <!-- <a href="/">
      <div class="avatar">
        <img src="/assets/images/avatar.png" />
      </div>
    </a> -->
    <a class="site-title" href="/">서영원 블로그</a>
  </header>

</div>

      <div class="wrapper">
        <div class="page-content">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">속깊은 자바스크립트 - 디자인패턴#1</h1>
    <p class="post-meta">2018-12-27 / 서영원</p>
  </header>



  <article class="post-content">
    <h1 id="디자인패턴1---모듈패턴-이벤트-델리게이션-패턴">디자인패턴#1 - 모듈패턴, 이벤트 델리게이션 패턴</h1>
<p>디자인 패턴은 소프트웨어를 개발할 때 사용가능한 패턴 및 설계방식을 정의한 것입니다. 개발자라면 GoF의 디자인 패턴을 따로 공부하는 것을 추천해 드립니다. 여기서는 디자인패턴의 개념에 대해서는 간략하게 설명하고 자바스크립트에서, 즉 웹브라우저에서 해당 디자인패턴이 어떤식으로 사용되고 적용되는가에 초점이 맞추어 살펴봅니다.</p>

<h2 id="모듈패턴module-pattern">모듈패턴(module pattern)</h2>
<p>모듈 패턴은 말 그대로 자바스크립트를 모듈 단위로 만들어 라이브러리로 개발 및 배포 가능하게 만들어주는 패턴입니다. 특히 웹 브라우저에서 사용자와의 인터렉션을 위해 여러 자바스크립트 라이브러리(예로 JQuery)를 추가해서 개발을 진행하는데 해당 라이브러리에 모듈패턴이 적용되어 있다고 볼 수 있습니다.</p>

<p>먼저 모듈패턴이 사용된 라이브러리(Jquery)를 사용하는 예를 살펴보겠습니다.</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/users/jazz9008@gmail.com</span><span class="dl">'</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>
<p>위 예처럼 Jquery를 사용할 때(실행 로직은 관심사가 아님) 저희는 $ 라는 전역변수에 접근해 Jquery에서 제공하는 함수를 사용합니다(자바스크립트에서는 $로 변수명을 사용가능).  이처럼 하나의 전역변수을 이용하여 여러 함수 및 변수를 접근하는 개념이 모듈 패턴의 기본개념입니다. 이렇게 사용할 시 다음과 같은 장점들이 존재합니다.</p>
<ul>
  <li>파일단위로 관리 가능</li>
  <li>네임스페이스로 사용가능</li>
  <li>모듈 단위 개발로 모듈간 의존성 최소화, 그리고 의존성을 파악하기 용의</li>
  <li>다른 개발자들이 사용가능한 형태의 라이브러리(API)로 배포 용의</li>
</ul>

<h3 id="모듈-패턴의-기본">모듈 패턴의 기본</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nb">window</span><span class="p">){</span>
	<span class="kd">var</span> <span class="nx">myLibrary</span> <span class="o">=</span> <span class="p">{</span>
		<span class="na">helloWorld</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
			<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello World!</span><span class="dl">"</span><span class="p">);</span>
		<span class="p">},</span>
		<span class="na">hello</span><span class="p">:</span> <span class="p">{</span>
			<span class="na">world</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
				<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello Module!!</span><span class="dl">"</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="nb">window</span><span class="p">.</span><span class="nx">myLibrary</span> <span class="o">=</span> <span class="nx">myLibrary</span><span class="p">;</span> <span class="c1">//전역스코프에 myLibrary라는 전역변수로 할당</span>
<span class="p">}(</span><span class="nb">window</span><span class="p">));</span>
</code></pre></div></div>
<p>먼저 즉시 실행함수를 실행하는데 window를 넘겨 마지막 라인에서 window에 myLibrary라는 이름으로 전역변수를 할당합니다. 이때 해당 전역변수의 내용이 즉시실행함수 안에서 구성됩니다. 위 라이브러리를 파일로 만들어 추가하면 다음과 같이 사용가능합니다.</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myLibrary</span><span class="p">.</span><span class="nx">helloWorld</span><span class="p">();</span> <span class="c1">//Hello World!</span>
<span class="nx">myLibrary</span><span class="p">.</span><span class="nx">hello</span><span class="p">.</span><span class="nx">world</span><span class="p">();</span> <span class="c1">//Hello Module!!</span>
</code></pre></div></div>
<p>두 번째 호출된 함수를 보면 최상위 모듈명을  myLibrary로 하고 하위 모듈로 hello가 지정되어 있습니다. 자바스크립트에서는 객체의 사용이 다른언어에 비해 자유로운점이 있기 때문에 위처럼 사용을 해서 네임스페이스를 세분화 되게 구분할 수 있습니다. 즉 함수들을 용도별로 객체화해서 배포함으로써 가독성이 높은 라이브러리를 개발할 수 있습니다.</p>

<p>다음으로 모듈패턴을 사용하는 또다른 방법들이 존재합니다 (설명은 생략합니다).</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//다른방법 1</span>
<span class="kd">var</span> <span class="nx">myLibrary</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nb">window</span><span class="p">){</span>
	<span class="kd">var</span> <span class="nx">myLibrary</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">};</span>
	<span class="k">return</span> <span class="nx">myLibrary</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">//다른방법 2</span>
<span class="kd">var</span> <span class="nx">myLibrary</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nb">window</span><span class="p">){</span>
	<span class="k">return</span> <span class="p">{</span>
	<span class="p">};</span>
<span class="p">});</span>
</code></pre></div></div>
<p>모듈패턴은 아주 다양한 형태로 사용되고있습니다. 실제 자바스크립트 라이브러리는 위방식 보다 더 복잡하게 사용됩니다.  특히 여러 모듈 시스템(AMD, CommonJS, UMD등, <a href="https://www.zerocho.com/category/JavaScript/post/5b67e7847bbbd3001b43fd73">본 글의 마지막 reference의 두 번째 링크 참조</a>)에 공통으로 라이브러리를 사용가능하게 하기 위해 폴리필처럼 적용된 부분들이 많이 존재합니다. <strong>이러한 모듈패턴을 잘 이해하고 사용하기 위해서는 여러 자바스크립트 라이브러리를 다운받아서 소스를 분석하는 것입니다.</strong> 보다 자바스크립트 라이브러리를 잘 이해하고 개발하기 위해서는 꼭 여러 라이브러리를 분석하며 공부해야 합니다.</p>

<h3 id="네임스페이스-생성과-jquery플러그인">네임스페이스 생성과 JQuery플러그인</h3>
<p>이번에는 기존 모듈, 즉 기존 라이브러리를 확장해서 사용하는 방식을 살펴봅시다.</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">windows</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">){</span>
	<span class="kd">var</span> <span class="nx">_myLibrary</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">myLibrary</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">_myLibrary</span><span class="p">){</span>
		<span class="nx">_myLibrary</span> <span class="o">=</span> <span class="p">{};</span>
	<span class="p">}</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">_myLibrary</span><span class="p">.</span><span class="nx">unikys</span><span class="p">){</span>
		<span class="nx">_myLibrary</span><span class="p">.</span><span class="nx">unikys</span> <span class="o">=</span> <span class="p">{};</span>
	<span class="p">}</span>
	<span class="nx">_myLibrary</span><span class="p">.</span><span class="nx">unikys</span><span class="p">.</span><span class="nx">sayHello</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello!</span><span class="dl">"</span><span class="p">);</span>
	<span class="p">};</span>
	<span class="nb">window</span><span class="p">.</span><span class="nx">myLibrary</span> <span class="o">=</span> <span class="nx">_myLibrary</span><span class="p">;</span>
<span class="p">}(</span><span class="nb">window</span><span class="p">));</span>
</code></pre></div></div>
<p>위 예제를 처음부터 순차적으로 보면 네임스페이스를 확장하듯 동작하며 sayHello 라는 함수를 생성합니다. 이 또한 위에서 설명한 것과 같이 자바스크립트의 객체 사용이 자유로운점을 활용한 것입니다. 확장 후 다시 전역변수인 myLibrary에 수정된 모듈을 할당하며 새로운 네임스페이스를 가진 myLibrary를 만드는 것이죠. 물론 확장이 아닌 초기 로딩에서도 위코드는 동작가능합니다. Jquery를 사용할 때 함께 사용가능한 Jquery플러그인도 기존의 Jquery를 위와 같은 방법으로 확장해서 제공하는 것들입니다.</p>

<h2 id="이벤트-델리게이션-패턴event-delegation-pattern">이벤트 델리게이션 패턴(event delegation pattern)</h2>

<h3 id="이벤트-버블링과-캡처링">이벤트 버블링과 캡처링</h3>
<p><img src="https://javascript.info/article/bubbling-and-capturing/eventflow.png" alt="" /></p>

<h3 id="이벤트-델리케이션-패턴-사용-예">이벤트 델리케이션 패턴 사용 예</h3>

<h2 id="references">References</h2>
<ul>
  <li>https://javascript.info/bubbling-and-capturing</li>
  <li>https://www.zerocho.com/category/JavaScript/post/5b67e7847bbbd3001b43fd73</li>
</ul>

  </article>

  <hr>

  <!-- <div class="question">
    <h2>Questions?</h2>
    <p>Have a question regarding the post above? <br />Or any of my designs?</p>
    

  </div> -->

  <!-- <div class="related">
    <h2>Related</h2>
    
      <li><a href="/artillery/artillery-intro/" title="소프트웨어 부하 테스트 도구 Artillery 소개">소프트웨어 부하 테스트 도구 Artillery 소개
       &nbsp; <span class="post-meta">February 17, 2021</span></a>
    
      <li><a href="/kubernetes/replica-set/" title="쿠버네티스 - 레프리카셋(Replica Set)">쿠버네티스 - 레프리카셋(Replica Set)
       &nbsp; <span class="post-meta">February 16, 2021</span></a>
    
      <li><a href="/kubernetes/pod/" title="쿠버네티스 - 포드(Pod)">쿠버네티스 - 포드(Pod)
       &nbsp; <span class="post-meta">February 15, 2021</span></a>
    
  </div> -->

  
  
    <div id="disqus_thread"></div>
    <script>
        /**
        *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
        /*
        var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        */
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://youngwonseo.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  

</div>

        </div>
        <footer class="site-footer">
<p class="small"></p>
</footer>

    </div>

    <script src="//cdn.jsdelivr.net/headroomjs/0.5.0/headroom.min.js"></script>
    <script type="text/javascript">
      var el = document.querySelector(".header-container");
      var headroom  = new Headroom(el, {
        "offset": 205,
        "tolerance": 5
      });
      headroom.init();
    </script>


    <!-- Twitter Shizzle -->
    <script type="text/javascript">
    window.twttr = (function (d, s, id) {
      var t, js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src= "https://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js, fjs);
      return window.twttr || (t = { _e: [], ready: function (f) { t._e.push(f) } });
    }(document, "script", "twitter-wjs"));
    </script>

  </body>
</html>
