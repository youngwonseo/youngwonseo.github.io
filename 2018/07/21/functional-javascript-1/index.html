<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>자바스크립트 - 함수형프로그래밍#1</title>
  <meta name="description" content="함수형 자바스크립트 #1  본 글은 함수형 자바스크립트 프로그래밍(유인동 저)에 대한 저의 정리입니다. 상세한 사항은 책에서 확인해주세요.">

  <link rel="stylesheet" href="//css/main.css">
  <link rel="canonical" href="https://youngwonseo.github.io//2018/07/21/functional-javascript-1/">
  <link rel="alternate" type="application/atom+xml" title="Youngon.Seo" href="https://youngwonseo.github.io//feed.xml" />
</head>

  <body>
    

<div class="header-container" id="header-container">

<!-- Site navigation -->
  <nav class="site-nav">
    <div class="trigger">
      
        
        <a class="page-link" href="//about/">About</a>
        
      
        
        <a class="page-link" href="//archive/">Archive</a>
        
      
        
      
        
      
        
        <a class="page-link" href="//projects/">Projects</a>
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      <a class="page-link" href="//feed.xml">RSS</a>
      <a class="twitter page-link" href="https://twitter.com/fffabs"><span class="icon-twitter"></span></a>
      <a class="facebook page-link" href="https://www.facebook.com/fffabs"><span class="icon-facebook"></span></a>
    </div>
  </nav>

  <!-- The title of the site -->
  <header class="site-header">
    <a href="//">
      <div class="avatar">
        <img src="/assets/images/avatar.png" />
      </div>
    </a>
    <!-- <a class="site-title" href="//">Youngon.Seo</a> -->
  </header>

</div>

      <div class="wrapper">
        <div class="page-content">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">자바스크립트 - 함수형프로그래밍#1</h1>
    <p class="post-meta">July 21, 2018 • Youngwon Seo</p>
  </header>

  <!-- Beginning Twitter sharing Large button -->
  <!-- <a class="twitter-share-button" href="https://twitter.com/share"
  data-related="twitterdev"
  data-size="large"
  data-count="horizontal">
  Tweet
  </a> -->
  <!-- End of Twitter sharing button -->

  <!-- Facebook -->
  

  <article class="post-content">
    <h1 id="함수형-자바스크립트-1">함수형 자바스크립트 #1</h1>
<ul>
  <li>본 글은 함수형 자바스크립트 프로그래밍(유인동 저)에 대한 저의 정리입니다. 상세한 사항은 책에서 확인해주세요.</li>
</ul>

<h2 id="1-함수형-자바스크립트이해를-위한-기초지식">1. 함수형 자바스크립트이해를 위한 기초지식</h2>
<p>함수형 자바스크립트에 대한 이해를 위해 먼저 자바스크립트 함수에 대한 문법을 정리합니다. 자바스크립트는 함수로 시작해서 함수로 끝날만큼 함수에 대한 개념이 중요하기 때문에 꼭 이해하고 함수를 정확히 사용할 수 있도록 해야합니다.</p>

<h3 id="일급함수">일급함수</h3>
<p>자바스크립트의 함수는 일급객체이자 일급 함수입니다. 여기서 '일급'은 다음과 같은 의미를 가집니다.</p>
<ul>
  <li>변수에 담을 수 있다.</li>
  <li>함수나 메서드의 인자로 넘길 수 있다.</li>
  <li>함수나 메서드에서 리턴될 수 있다.</li>
  <li>아무 때나(런타임에서도) 선언 될 수 있다.</li>
  <li>익명으로 선언될 수 있다.</li>
</ul>

<p>먼가 복잡해 보이지만 우리가 사용하고 있는 자바스크립트는 위와 같은 조건을 모두 만족합니다. 책에는 상세한 예제가 명시되어 있지만 여기서는 생략하겠습니다.</p>

<h3 id="클로저">클로저</h3>
<p>개발자(특히 자바스크립트 개발자)라면 클로저라는 키워드를 많이 들어보셨을 것입니다. 본 책의 주제인 함수형 자바스크립트에서 클로저는 매우 중요하므로 정확하게 이해해야합니다.
스코프는 변수참조에 대한 범위를 의미합니다. 함수가 중첩되어 있으면 각 함수마다 스코프는 자신의 상위 함수를 의미합니다. 이것이 가장 심플한 클로저의 의미입니다. 이것을 책에서는 <strong>클로저는 자신이 생성될 때의 스코프에서 알 수 있었던 변수를 기억하는 함수다</strong>하고 표현합니다.</p>
<pre><code class="language-javascript">function parent() {
  var a = 5;
  function myfn() {
    console.log(a); 
  }
  //... 생략
}

function parent2() {
  var a = 5;
  function parent1() {
    function myfn()  {
      console.log(a);
    }
    //... 생략
  }
  //... 생략
}
</code></pre>
<p>위는 책에 존재하는 예제를 그대로 명시한 것입니다. parent와  parent2는 내부에 myfn이라는 함수를 중첩으로 선언하였습니다. 그리고 myfn  안에서는 a라는 변수를 사용하였는데 이 변수는  myfn의 스코프가 아닌 상위스코프(상위함수의 스코프)에 선언되어 있습니다. 이것이 클로저에 대한 가장 기본적인 이해입니다. myfn이 상위스코프의 변수를 기억하고 있어서 다음과 같은 코드를 동작시키는데 문제가 없습니다.</p>
<pre><code class="language-javascript">function parent() {
  var a = 5;
  return function myfn() {
    console.log(a); 
  }
  //... 생략
}
parent()();
// a 출력
</code></pre>
<p>parent는 내부의 myfn을 반환하는데 myfn은 반환된 후에도 parent의 a에 대한 참조를 클로저를 통해 기억하여 사용이 가능합니다. 
클로저를 이해하기 위해서는 이 이상의 이해가 더 필요하지만 여기서는 설명하지 않겠습니다. 필요하다면 구글링하여 확실하게 이해하고 넘어가는 것을 추천합니다.</p>
<h3 id="고차함수">고차함수</h3>
<p>다음은 고차함수에 대한 설명입니다.</p>
<ul>
  <li>함수를 인자로 받아 대신 실행하는 함수, 즉 인자로 함수를 받음</li>
  <li>함수를 리턴하는 함수</li>
  <li>위 두가지의 경우가 합쳐진, 함수를 인자로 받고 함수를 리턴하는 함수</li>
</ul>

<p>자바스크립트 개발자라면 매우 익숙하게 위 설명들을 받아 들일 것 입니다.  여기서 중요한 점은 함수형 프로그래밍의 절반은 <strong>고차 함수를 적극적으로 활용하는 프로그래밍</strong>이라는 것입니다.  이것은 함수를 받고 함수를 리턴하는것을 의미하며 다른언어에 비해 자바스크립트에서 많이 사용되는 패턴으로 이로 인해 자바스크립트가 함수형 프로그래밍을 적용하기 좋은 언어이고 함수형 프로그래밍을 공부하기 좋은 언어라는 것을 의미합니다. 참고로 다른 언어들도 점차 함수형 프로그래밍을 지원하는 라이브러리 또는 문법을 추가하고 있습니다.</p>

<h3 id="보조함수">보조함수</h3>
<p>보통 보조함수는 콜백함수라고 불리기도 합니다. 하지만 책에서는 콜백함수라고 불리는 것이 잘못 불리는 것이라 명시되어 있는데, 이는 모든 보조함수가 콜백함수가 아니기 때문입니다. 조금 더 설명을 이어가면, 비동기 프로그래밍 상황에서 콜백에 대한 실행완료 여부 로직을 호출하는 등의 행위는 콜백이라고 불릴 수 있지만(실행 컨텍스트를 다시 돌려줌), 특정 함수의 인자로 넘겨지는 함수, 혹은 익명함수등(즉 함수안의 로직을 인자로 넘기는것)은 콜백이 아니기 때문에 보조함수라고 명칭하는 것이 맞다라는 것입니다. 즉 실행 컨텍스트에 대한 변경없이도 함수를 콜백처럼 호출 시킬수 있는 것은 보조 함수이며 콜백도 보조함수에 속할 수 있는 함수형태로 간주합니다.</p>

<h2 id="2-대표적인-함수형-프로그래밍-함수인-map-filter">2. 대표적인 함수형 프로그래밍 함수인 map, filter</h2>
<p>함수형 프로그래밍의 대표적 함수로 map과 filter가 존재합니다(ES5에 내장). 함수들을 이해하기 위해 예제를 살펴봅시다(책과는 다르게 설명합니다).</p>
<pre><code class="language-javascript">var users = [
	{ id: 1, name: "ID", age: 32 },
	{ id: 2, name: "HA", age: 25 },
	{ id: 3, name: "BJ", age: 32 },
	{ id: 4, name: "PJ", age: 28 },
	{ id: 5, name: "JE", age: 27 },
	{ id: 6, name: "JM", age: 32 },
	{ id: 7, name: "HI", age: 24 }	
]
console.log(
	users.filter(function(user) { return user.id === 3 }) [0];
)
//{ id: 3, name: "BJ", age: 32 }
</code></pre>
<p>위 예제는 filter함수를 사용하여  id가 3인 user를 검색합니다. 하지만 위 예제는 user가 몇개가 되던 전부 검색을 하게 됩니다. 즉 비효율적인 부분이 존재하죠(id값이 유일하다는 가정하에). 그래서 검색할려는 id를 발견하면 바로 return을 하는 함수를 다음과 같이 정의해 보겠습니다.</p>
<pre><code class="language-javascript">var user;
for(var i=0, n=users.length; i &lt; n; i++) {
	if( users[i].id === 3 ) {
		user = users[i];
		break;
	}	
}

console.log(user);
</code></pre>
<p>어떤가요? filter를 사용했을 때와 마찬가지로 원하는 user를 찾는 것과 함께 불필요한 검색을 수행하지 않습니다. 하지만 단점은 재사용이 불가능하죠. 그래서 아래와 함수화해보겠습니다.</p>
<pre><code class="language-javascript">function findById(list, id) {
	for( var i=0, n=list.legnth; i&lt;n; i++) {
		if( list[i].id === id ) return list[i];
	}	
}
</code></pre>
<p>어떤가요? 좀더 효율적으로 변경되었다고 말할 수 있습니다. 반복된 계산을 하지 않고 재사용가능하며 원하는 값을 찾수 있습니다. 그렇다면 이름 또는 나이로 검색을 원하는 경우는 어떨까요? 이때도 원하는 값 하나만 찾고싶다고 가정합시다.</p>
<pre><code class="language-javascript">function findByName(list, name) {
	for( var i=0, n=list.legnth; i&lt;n; i++) {
		if( list[i].name === name) return list[i];
	}	
}

function findByAge(list, age) {
	for( var i=0, n=list.legnth; i&lt;n; i++) {
		if( list[i].age === age) return list[i];
	}	
}
</code></pre>
<p>총 3개의 함수 findById, findByName, findByAge를 정의하였는데, 결론 부터 말하면 위 함수들은 함수형적이지 않습니다. 
그렇다면 위 같은 코드 중복 문제를 해결하기 위해서는 어떻게 해야 할까요? 다음과 같은 코드를 살펴봅시다.</p>
<pre><code class="language-javascript">function findBy(key, list, val){
	for( var i=0, n=list.legnth; i&lt;n; i++) {
		if( list[i][key] === val) return list[i];
	}
}
</code></pre>
<p>공통적으로 사용가능한 함수를 만들어 코드가 1/3로 줄었습니다. 하지만 아직 다음과 같은 문제가 존재합니다.</p>
<ul>
  <li>key가 아닌 메서드를 통해 값을 얻고 싶을때</li>
  <li>두 가지 이상의 조건이 필요할 때</li>
  <li>===이 아닌 다른 조건으로 찾고 싶을때</li>
</ul>

<p>그렇다면 값이 아닌 함수를 인자로 같는 find함수를 만들어봅시다!</p>
<pre><code class="language-javascript">function find(list, predicate) {
	for( var i=0, n=list.legnth; i&lt;n; i++) {
		if(predicate(list[i])) return list[i]
	}
}

console.log(
	find(users, function(u){ return u.age === 32 &amp;&amp; u.name === 'JM'; });
)
</code></pre>
<p>key와 val 대신 함수를 인자로 받고 있습니다. 또한 이로 인해 할 수 있는 일이 정말 많아 졌습니다! 이것이 함수형 프로그래밍의 가장 간단한 예제라 할 수 있습니다. 고정된 변수대신 함수(보조함수)에 로직을 위힘하여 재사용가능한 코드(더 높은 다형성과 안정성을 보장하는) 코드를 만들 수 있게 하는 것입니다.</p>

<h2 id="마무리하며">마무리하며</h2>
<p>함수형 프로그래밍을 몰라도 이미 함수형 프로그래밍에 대한 패턴을 도입해서 사용하고 있는 분도 계실것입니다. 이 책에서는 위와 같은 함수형 프로그래밍 패턴을 하나씩 살펴보고 자바스크립트 기반 함수형 프로그래밍 라이브러리를 살펴보고 비슷하게 구현해 봅니다. 2장에서 보다 자세한 내용으로 함수형 프로그래밍에 대해서 알아봅시다. 읽어주셔서 감사합니다.</p>

<h1 id="references">References</h1>
<ul>
  <li>함수형 자바스크립트 프로그래밍(인사이트) - 유인동지음</li>
</ul>

  </article>

  <hr>

  
    <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://youngwonseo.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
  
  <!-- <div class="question">
    <h2>Questions?</h2>
    <p>Have a question regarding the post above? <br />Or any of my designs?</p>
    <a class="twitter-follow-button"
    href="https://twitter.com/fffabs"
    data-show-count="true"
    data-size="large">
    Follow @fffabs
    </a>
    <script type="text/javascript">
    window.twttr = (function (d, s, id) {
      var t, js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src= "https://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js, fjs);
      return window.twttr || (t = { _e: [], ready: function (f) { t._e.push(f) } });
    }(document, "script", "twitter-wjs"));
    </script>
  </div> -->

  <div class="related">
    <h2>Related</h2>
    
      <li><a href="/2020/10/09/image-resize/" title="파이썬 이미지 리사이즈">파이썬 이미지 리사이즈
       &nbsp; <span class="post-meta">October 09, 2020</span></a>
    
      <li><a href="/2020/09/22/class-activation-map/" title="Learning Deep Features for Discriminative Localization">Learning Deep Features for Discriminative Localization
       &nbsp; <span class="post-meta">September 22, 2020</span></a>
    
      <li><a href="/2020/09/21/network-in-network/" title="Network In Network">Network In Network
       &nbsp; <span class="post-meta">September 21, 2020</span></a>
    
  </div>

</div>

        </div>
        <footer class="site-footer">
<p class="small">YoungwonSeo &copy 2020
</p>
</footer>

    </div>

    <script src="//cdn.jsdelivr.net/headroomjs/0.5.0/headroom.min.js"></script>
    <script type="text/javascript">
      var el = document.querySelector(".header-container");
      var headroom  = new Headroom(el, {
        "offset": 205,
        "tolerance": 5
      });
      headroom.init();
    </script>


    <!-- Twitter Shizzle -->
    <!-- <script type="text/javascript">
    window.twttr = (function (d, s, id) {
      var t, js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src= "https://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js, fjs);
      return window.twttr || (t = { _e: [], ready: function (f) { t._e.push(f) } });
    }(document, "script", "twitter-wjs"));
    </script> -->
    	<!-- Google Analytics -->
  <script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		
		ga('create', 'UA-78263144-1', 'auto');
		ga('send', 'pageview');
		</script>
		<!-- End Google Analytics -->
</header>


  </body>
</html>
